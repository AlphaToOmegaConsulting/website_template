---
import Button from '../components/primitives/Button.astro';
import Card from '../components/primitives/Card.astro';
import Input from '../components/primitives/Input.astro';
import Dialog from '../components/primitives/Dialog.astro';
import '../styles/global.css';
---

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Primitives Test - Accessibility Verification</title>
</head>
<body class="p-8 space-y-8">
  <h1 class="text-3xl font-bold mb-8">Design System Primitives Test</h1>

  <!-- Button Tests -->
  <section class="space-y-4">
    <h2 class="text-2xl font-semibold">Buttons</h2>
    <div class="flex gap-4 flex-wrap">
      <Button variant="primary" size="sm">Primary Small</Button>
      <Button variant="primary" size="md">Primary Medium</Button>
      <Button variant="primary" size="lg">Primary Large</Button>
    </div>
    <div class="flex gap-4 flex-wrap">
      <Button variant="secondary">Secondary</Button>
      <Button variant="ghost">Ghost</Button>
      <Button disabled>Disabled</Button>
    </div>
  </section>

  <!-- Card Tests -->
  <section class="space-y-4">
    <h2 class="text-2xl font-semibold">Cards</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <Card variant="default">
        <h3 class="font-semibold mb-2">Default Card</h3>
        <p class="text-gray-600">This is a default card with medium padding.</p>
      </Card>
      <Card variant="bordered">
        <h3 class="font-semibold mb-2">Bordered Card</h3>
        <p class="text-gray-600">This card has a border.</p>
      </Card>
      <Card variant="elevated">
        <h3 class="font-semibold mb-2">Elevated Card</h3>
        <p class="text-gray-600">This card has a shadow.</p>
      </Card>
    </div>
  </section>

  <!-- Input Tests -->
  <section class="space-y-4">
    <h2 class="text-2xl font-semibold">Inputs</h2>
    <div class="max-w-md space-y-4">
      <Input
        name="text-input"
        label="Text Input"
        placeholder="Enter text"
      />
      <Input
        name="email-input"
        type="email"
        label="Email Input"
        placeholder="email@example.com"
        required
      />
      <Input
        name="password-input"
        type="password"
        label="Password Input"
        placeholder="Enter password"
      />
      <Input
        name="error-input"
        label="Input with Error"
        error="This field is required"
      />
      <Input
        name="disabled-input"
        label="Disabled Input"
        disabled
        value="Cannot edit"
      />
    </div>
  </section>

  <!-- Dialog Test -->
  <section class="space-y-4">
    <h2 class="text-2xl font-semibold">Dialog</h2>
    <Dialog
      id="test-dialog"
      title="Example Dialog"
      description="This is a test dialog with focus trap and ESC key handling."
      triggerLabel="Open Dialog"
    >
      <div class="space-y-4">
        <Input
          name="dialog-input"
          label="Name"
          placeholder="Enter your name"
        />
        <div class="flex gap-2 justify-end">
          <Button variant="ghost" data-dialog-close="dialog-test-dialog">Cancel</Button>
          <Button variant="primary">Submit</Button>
        </div>
      </div>
    </Dialog>
  </section>

  <!-- Keyboard Navigation Instructions -->
  <section class="mt-8 p-4 bg-blue-50 rounded-lg">
    <h2 class="text-xl font-semibold mb-2">Accessibility Testing Instructions</h2>
    <ul class="list-disc list-inside space-y-1 text-sm">
      <li><strong>Tab:</strong> Navigate forward through interactive elements</li>
      <li><strong>Shift+Tab:</strong> Navigate backward through interactive elements</li>
      <li><strong>Enter/Space:</strong> Activate buttons</li>
      <li><strong>ESC:</strong> Close dialog</li>
      <li>Check that focus is visible on all interactive elements</li>
      <li>Verify ARIA attributes are present (use browser dev tools)</li>
      <li>Ensure logical focus order</li>
    </ul>
  </section>
</body>
</html>
